# ヘルプシステム ブラウザテスト手順書

## 概要
統合ヘルプシステムのブラウザテスト手順を記載します。

## 前提条件
- Docker環境が起動していること
- テストユーザーが作成されていること（test@example.com / testpassword123）
- フロントエンドがビルドされていること

## テスト手順

### 1. 環境起動確認

```bash
# Dockerコンテナの状態確認
docker-compose ps

# フロントエンドアクセス確認
open http://localhost:5173

# バックエンドAPI確認
curl http://localhost:8000/api/v1/health
```

### 2. ログイン

1. ブラウザで `http://localhost:5173` にアクセス
2. ログイン画面で以下を入力：
   - メールアドレス: `test@example.com`
   - パスワード: `testpassword123`
3. 「ログイン」ボタンをクリック
4. ダッシュボードが表示されることを確認

### 3. ヘルプボタンの表示確認

1. 管理画面の右下にヘルプボタン（？アイコン）が表示されていることを確認
2. ボタンにホバーすると拡大することを確認
3. ボタンの色がインディゴ（#4F46E5）であることを確認

### 4. ヘルプモーダル - FAQタブ

#### 4.1 モーダル表示
1. ヘルプボタンをクリック
2. ヘルプモーダルが表示されることを確認
3. 「よくある質問」タブが選択されていることを確認

#### 4.2 FAQ一覧表示
1. FAQ一覧が表示されることを確認
2. 各FAQ項目に以下が表示されることを確認：
   - 質問文
   - カテゴリバッジ
   - 展開/折りたたみアイコン

#### 4.3 FAQ展開/折りたたみ
1. FAQ項目をクリック
2. 回答文が表示されることを確認
3. 関連URLがある場合はリンクが表示されることを確認
4. 再度クリックで折りたたまれることを確認

#### 4.4 カテゴリフィルタ
1. カテゴリフィルタボタンが表示されることを確認
2. 「すべて」ボタンをクリック
3. 全カテゴリのFAQが表示されることを確認
4. 各カテゴリボタン（例：「初期設定」）をクリック
5. 該当カテゴリのFAQのみが表示されることを確認
6. 選択中のカテゴリボタンがハイライト（インディゴ背景）されることを確認

#### 4.5 検索機能
1. 検索バーに「アカウント」と入力
2. 検索結果が表示されることを確認
3. 検索クエリがハイライト表示されることを確認
4. 検索バーをクリア
5. 全FAQが再表示されることを確認

### 5. ヘルプモーダル - AIチャットタブ

#### 5.1 タブ切り替え
1. 「AIチャット」タブをクリック
2. チャット画面が表示されることを確認
3. ウェルカムメッセージが表示されることを確認

#### 5.2 チャット送信
1. メッセージ入力欄に「アカウント作成の方法を教えてください」と入力
2. 「送信」ボタンをクリック（またはEnterキー）
3. ユーザーメッセージが右側に表示されることを確認
4. ローディングインジケーターが表示されることを確認
5. AI応答が左側に表示されることを確認
6. タイムスタンプが表示されることを確認

#### 5.3 関連FAQ表示
1. AI応答に関連FAQがある場合、関連FAQセクションが表示されることを確認
2. 関連FAQをクリック
3. FAQタブに切り替わり、該当FAQが表示されることを確認

#### 5.4 チャット履歴クリア
1. 複数のメッセージを送信
2. 「履歴をクリア」ボタンをクリック
3. 確認ダイアログが表示されることを確認
4. 「OK」をクリック
5. チャット履歴がクリアされることを確認

### 6. モーダル閉じる

1. モーダル右上の「×」ボタンをクリック
2. モーダルが閉じることを確認
3. 再度ヘルプボタンをクリック
4. 前回の状態（タブ、検索クエリ等）が保持されていないことを確認

### 7. レスポンシブ対応

1. ブラウザの幅を狭くする（モバイルサイズ）
2. ヘルプボタンが表示されることを確認
3. モーダルが適切に表示されることを確認
4. タブが横スクロールしないことを確認

### 8. エラーハンドリング

#### 8.1 ネットワークエラー
1. ブラウザの開発者ツールでネットワークを無効化
2. FAQ一覧取得を試行
3. エラーメッセージが表示されることを確認

#### 8.2 認証エラー
1. トークンを無効化（開発者ツールで削除）
2. ヘルプAPIを呼び出す
3. 認証エラーが適切に処理されることを確認

## 期待される動作

### パフォーマンス
- FAQ一覧取得: 1秒以内
- 検索: 500ms以内
- AIチャット応答: 5秒以内（OpenAI API依存）

### UI/UX
- スムーズなアニメーション
- 適切なローディング表示
- エラーメッセージが分かりやすい
- モバイル対応

### 機能
- すべてのAPIエンドポイントが正常に動作
- 認証が正しく機能
- キャッシュが適切に動作
- 多言語対応（日本語/英語）

## トラブルシューティング

### FAQが表示されない
- データベースにFAQデータが投入されているか確認
- ブラウザのコンソールでエラーを確認
- ネットワークタブでAPIレスポンスを確認

### AIチャットが動作しない
- OpenAI APIキーが設定されているか確認
- バックエンドログでエラーを確認
- レート制限に達していないか確認

### モーダルが表示されない
- ブラウザのコンソールでエラーを確認
- Vue DevToolsでコンポーネントの状態を確認
- モーダルコンポーネントが正しくインポートされているか確認

## テスト完了チェックリスト

- [ ] ヘルプボタンが表示される
- [ ] モーダルが開閉できる
- [ ] FAQ一覧が表示される
- [ ] カテゴリフィルタが動作する
- [ ] 検索機能が動作する
- [ ] FAQ展開/折りたたみが動作する
- [ ] AIチャットが動作する
- [ ] チャット履歴クリアが動作する
- [ ] エラーハンドリングが適切
- [ ] レスポンシブ対応が適切

