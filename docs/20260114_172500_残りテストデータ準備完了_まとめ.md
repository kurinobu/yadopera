# 残りテストデータ準備完了 - まとめ

**作成日時**: 2026年1月14日 17:25:00  
**目的**: 残りのテストデータ準備完了報告  
**状態**: テスト2-5準備完了、テスト2-6用スクリプト準備完了

---

## 1. 準備完了したテストデータ

### 1.1 テスト2-5: Smallプラン（警告範囲：190件）✅

**データ状態**: ✅ 準備完了

**データ内容**:
- 質問数: 190件
- AI自動応答数: 150件
- エスカレーション数: 20件
- 使用率: 95%（190 / 200 * 100）
- ステータス: `warning`
- 残り質問数: 10件

**期待される表示**:
- ✅ プログレスバーがオレンジ色で表示される
- ✅ 「⚠️ まもなく上限です（残り10件）」メッセージが表示される
- ✅ ステータスが「warning」である

---

### 1.2 テスト2-6: Smallプラン（超過：220件）⚠️

**データ状態**: ⚠️ スクリプト準備完了（実行が必要）

**スクリプト**: `backend/create_small_overage_test_data.py`

**実行方法**:
```bash
docker-compose exec backend python /app/create_small_overage_test_data.py
```

**データ内容（実行後）**:
- 質問数: 220件
- AI自動応答数: 180件
- エスカレーション数: 25件
- 使用率: 110%（220 / 200 * 100）
- ステータス: `overage`
- 超過質問数: 20件

**期待される表示**:
- ✅ プログレスバーが赤色で表示される
- ✅ 「⚠️ 従量課金が発生しています（20件超過）」メッセージが表示される
- ✅ ステータスが「overage」である

---

## 2. テスト実行順序

### 2.1 現在の状態

**Smallプラン（test51@example.com）**: 190件のデータが準備済み（テスト2-5用）

### 2.2 テスト実行手順

#### ステップ1: テスト2-5（警告範囲：190件）を実行 ✅

**データ**: 既に準備済み

**テスト内容**:
1. test51@example.comでログイン
2. ダッシュボード画面を確認
3. プログレスバーがオレンジ色で表示されることを確認
4. 「⚠️ まもなく上限です（残り10件）」メッセージが表示されることを確認
5. ステータスが「warning」であることを確認

---

#### ステップ2: テスト2-6（超過：220件）のデータを作成 ⚠️

**実行コマンド**:
```bash
docker-compose exec backend python /app/create_small_overage_test_data.py
```

**実行内容**:
- Smallプランの既存データ（190件）を削除
- 220件の質問を作成
- AI自動応答数: 180件
- エスカレーション数: 25件

---

#### ステップ3: テスト2-6（超過：220件）を実行 ⚠️

**データ**: ステップ2で作成

**テスト内容**:
1. test51@example.comでログイン
2. ダッシュボード画面を確認
3. プログレスバーが赤色で表示されることを確認
4. 「⚠️ 従量課金が発生しています（20件超過）」メッセージが表示されることを確認
5. ステータスが「overage」であることを確認

---

## 3. 全テストケースの状態

| テストケース | プラン | ユーザー | データ状態 | テスト状態 |
|------------|--------|---------|-----------|-----------|
| テスト2-1 | Free（30件以内） | test31@example.com | ⚠️ 別途作成が必要 | - |
| テスト2-2 | Free（30件超過） | test31@example.com | ✅ 準備完了（35件） | ✅ 完了 |
| テスト2-3 | Mini | test41@example.com | ✅ 準備完了（50件） | ✅ 完了 |
| テスト2-4 | Small（上限内） | test51@example.com | ✅ 準備完了（100件） | ✅ 完了 |
| テスト2-5 | Small（警告範囲） | test51@example.com | ✅ 準備完了（190件） | ⚠️ 実行待ち |
| テスト2-6 | Small（超過） | test51@example.com | ⚠️ スクリプト準備完了 | ⚠️ 実行待ち |
| テスト2-7 | Standard/Premium | test61@example.com, test71@example.com | ✅ 準備完了 | ✅ 完了 |
| 色分けテスト（黄色） | Standard（375件） | test61@example.com | ✅ 準備完了 | ✅ 完了 |
| 色分けテスト（オレンジ） | Small（190件） | test51@example.com | ✅ 準備完了（テスト2-5と同じ） | ⚠️ 実行待ち |

---

## 4. 次のステップ

### 4.1 テスト2-5の実行

**準備**: ✅ 完了（190件のデータが準備済み）

**実行**: ブラウザでtest51@example.comにログインしてテストを実行

---

### 4.2 テスト2-6のデータ作成と実行

**準備**: ⚠️ スクリプト実行が必要

**実行手順**:
1. スクリプトを実行: `docker-compose exec backend python /app/create_small_overage_test_data.py`
2. ブラウザでtest51@example.comにログインしてテストを実行

---

## 5. 注意事項

### 5.1 Smallプランのデータ管理

- テスト2-4、テスト2-5、テスト2-6は同じSmallプラン（test51@example.com）を使用
- 各テストの前に、既存データを削除してから新しいデータを作成する必要がある
- スクリプトは自動的に既存データを削除してから新しいデータを作成します

### 5.2 テスト2-1（Freeプラン30件以内）のデータ

**現状**: データが準備されていない（現在は35件）

**対応**: 必要に応じて、Freeプランのデータを15件に調整するスクリプトを作成可能

---

**Document Version**: v1.0  
**Author**: Auto (AI Assistant)  
**Last Updated**: 2026年1月14日 17:25:00  
**Status**: テスト2-5準備完了、テスト2-6用スクリプト準備完了

