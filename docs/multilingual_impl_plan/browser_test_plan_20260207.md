# Manual.vue 翻訳手引書実装 - ブラウザテスト計画書
**実施日**: 2026年2月7日  
**対象**: frontend/src/views/admin/Manual.vue  
**変更内容**: 第12章付録に翻訳手引書（12.2 翻訳手引書）を統合

---

## テスト環境

### 環境構成
- **Frontend**: Vite + Vue 3 (http://localhost:5173)
- **Backend**: FastAPI (http://localhost:8000)
- **Database**: PostgreSQL 15 + pgvector (port 5433)
- **Cache**: Redis (port 6379)
- **Docker Compose**: v2.35.1

### 起動コマンド
```bash
cd /Users/kurinobu/projects/yadopera
./scripts/docker-build-and-test.sh
# または
docker-compose up -d
```

---

## テスト項目

### 1. マニュアルの基本表示確認

**テストケース 1.1**: ページ読み込み
- [ ] http://localhost:5173 にアクセス可能
- [ ] "ご利用マニュアル" ヘッダーが表示される
- [ ] 左側の目次が表示される
- [ ] エラーコンソールに JavaScript エラーが出ていない

**テストケース 1.2**: 目次の動作
- [ ] 目次から「第12章 付録」をクリック可能
- [ ] 第12章セクションがハイライト表示される
- [ ] スクロール位置が自動調整される

### 2. 翻訳手引書セクションの確認

**テストケース 2.1**: セクション構成
- [ ] 第12章が 5 つの subsection を持つ
  - [ ] 12.1 用語集
  - [ ] 12.2 翻訳手引書（宿泊施設管理者向けFAQ翻訳ガイド）← **新規追加**
  - [ ] 12.3 画面遷移図
  - [ ] 12.4 FAQ初期テンプレート例
  - [ ] 12.5 更新履歴

**テストケース 2.2**: 翻訳手引書の内容確認
- [ ] セクション 12.2 をクリックするとコンテンツが表示される
- [ ] コンテンツが以下の構成を持つ：
  - [ ] 翻訳手引書について
  - [ ] 翻訳前の準備
  - [ ] ChatGPTで翻訳する手順
  - [ ] 翻訳精度を高めるコツ
  - [ ] 品質確保
  - [ ] 複数FAQ一括翻訳
  - [ ] トラブル対処
  - [ ] まとめ

**テストケース 2.3**: 文体・表現の確認
- [ ] 敬語が丁寧体（です・ます）で統一されている
- [ ] 絵文字が正しく表示される
  - [ ] 💡 ポイント
  - [ ] ⚠️ 注意
  - [ ] ✅ チェックポイント
- [ ] コードブロック（```）が正しくフォーマットされている
- [ ] リスト（-、1.など）が正しく表示される

### 3. レスポンシブデザイン確認

**テストケース 3.1**: デスクトップ表示（1920x1080）
- [ ] 左側に目次、右側にコンテンツが並んで表示される
- [ ] スクロール時に目次が追従する
- [ ] アクティブセクションがハイライトされる

**テストケース 3.2**: タブレット表示（768px）
- [ ] 目次がアコーディオン形式またはオフキャンバスで表示可能
- [ ] コンテンツが画面幅に合わせてリサイズされる

**テストケース 3.3**: モバイル表示（375px）
- [ ] モバイル用目次トグルボタンが表示される
- [ ] トグルボタンクリックで目次が開閉可能
- [ ] コンテンツが読みやすい幅に調整される

### 4. ダークモード確認

**テストケース 4.1**: ダークモード表示
- [ ] ダークモード切り替えボタンが機能する
- [ ] 翻訳手引書のテキストが読みやすい色で表示される
- [ ] コードブロック背景が読みやすい色である
- [ ] 絵文字が正しく表示される

### 5. ナビゲーション確認

**テストケース 5.1**: セクション間移動
- [ ] 12.1 → 12.2 → 12.3 へのスムーズな移動
- [ ] 各セクション内でのスクロール
- [ ] 内部リンク（「第X章を参照」等）の動作確認

**テストケース 5.2**: 目次の Intersection Observer
- [ ] ページスクロール時に目次のアクティブセクションが自動更新される
- [ ] 12.2 翻訳手引書へスクロール時に該当項目がハイライト

### 6. ブラウザ互換性確認

**対象ブラウザ**:
- [ ] Google Chrome (最新版)
- [ ] Mozilla Firefox (最新版)
- [ ] Safari (最新版)
- [ ] Edge (最新版)

**テストケース 6.1**: Chrome
- [ ] すべてのテスト項目が成功

**テストケース 6.2**: Firefox
- [ ] すべてのテスト項目が成功

**テストケース 6.3**: Safari
- [ ] すべてのテスト項目が成功
- [ ] フォント表示に問題がないか確認

### 7. パフォーマンス確認

**テストケース 7.1**: ページロード速度
- [ ] DevTools Lighthouse でパフォーマンススコア 70+ を達成
- [ ] First Contentful Paint (FCP) < 2s

**テストケース 7.2**: 操作応答性
- [ ] セクション切り替え時のレスポンスが即座（< 500ms）
- [ ] スクロール時のカクつきがない

### 8. アクセシビリティ確認

**テストケース 8.1**: キーボードナビゲーション
- [ ] Tab キーで目次内を移動可能
- [ ] Enter キーでセクション選択可能
- [ ] Escape キーで目次を閉じられる（モバイル）

**テストケース 8.2**: スクリーンリーダー対応
- [ ] ヘッダーが正しくマークアップされている
- [ ] リストが正しい構造になっている
- [ ] 画像代替テキストが設定されている（該当する場合）

---

## テスト実行手順

### 準備
1. Docker Desktop を起動
2. `./scripts/docker-build-and-test.sh` を実行
3. `http://localhost:5173` をブラウザで開く

### 自動テスト
```bash
# Docker ログ確認
docker-compose logs -f frontend

# ブラウザコンソールエラー確認
DevTools > Console タブ
```

### 手動テスト
1. **基本表示**: ページが正常に読み込まれることを確認
2. **翻訳手引書**: 第12章 → 12.2 をクリックしてコンテンツを確認
3. **レスポンシブ**: ブラウザを縮小して表示を確認
4. **ダークモード**: 切り替えボタンで色の変更を確認
5. **パフォーマンス**: DevTools で読み込み時間を確認

---

## 期待される結果

✅ **成功条件**:
- すべてのセクションが正しい番号（12.1～12.5）で表示される
- 翻訳手引書コンテンツが完全に表示される
- 文体・表現がマニュアルと統一されている
- レスポンシブデザインが正常に機能する
- ダークモードが正常に機能する
- ブラウザコンソールにエラーが出ていない

❌ **失敗条件**:
- セクション番号が不正（例: 12.2 が画面遷移図のままなど）
- コンテンツが途中で切れている
- 文体が不統一（敬語レベルが混在）
- レスポンシブ時にレイアウトが崩れる
- ブラウザコンソールに JavaScript エラー
- ダークモード切り替え時に表示が崩れる

---

## テスト実施ログ

### テスト実施日: 2026年2月7日
| テストケース | ステータス | コメント |
|-------------|----------|---------|
| 1.1 ページ読み込み | - | テスト待機中 |
| 1.2 目次の動作 | - | テスト待機中 |
| 2.1 セクション構成 | - | テスト待機中 |
| 2.2 翻訳手引書内容 | - | テスト待機中 |
| 2.3 文体・表現確認 | - | テスト待機中 |
| 3.1 デスクトップ表示 | - | テスト待機中 |
| 3.2 タブレット表示 | - | テスト待機中 |
| 3.3 モバイル表示 | - | テスト待機中 |
| 4.1 ダークモード表示 | - | テスト待機中 |
| 5.1 セクション間移動 | - | テスト待機中 |
| 5.2 目次のアクティブ更新 | - | テスト待機中 |
| 6.1 Chrome | - | テスト待機中 |
| 6.2 Firefox | - | テスト待機中 |
| 6.3 Safari | - | テスト待機中 |
| 7.1 ページロード速度 | - | テスト待機中 |
| 7.2 操作応答性 | - | テスト待機中 |
| 8.1 キーボードナビゲーション | - | テスト待機中 |
| 8.2 スクリーンリーダー対応 | - | テスト待機中 |

---

## 注記
- テストは `develop` ブランチで実施
- 本番環境への適用は main ブランチへのマージ後
- 問題発見時は GitHub Issues で追跡
