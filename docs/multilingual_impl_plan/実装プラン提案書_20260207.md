# 翻訳手引書＆多言語実装プラン提案書

**作成日**: 2026年2月7日  
**最終更新**: 2026年2月13日（Phase 4 整合・補足・実装準備チェック追加）  
**対象**: 宿泊施設管理者向けFAQ翻訳ガイド + システム多言語実装  
**提案者**: GitHub Copilot  

**フェーズの位置づけ**: 本対応は**要約定義書 7章 Phase 4「多言語対応」の必須項目**。Phase 3（PoC実施中）で先行実施可能。参照: `docs/Summary/yadopera-v03-summary.md`、`docs/Phase3/Phase3_現況と残存課題_実装計画_20260209.md` §5.2。

**精読分析対象文書**:
- `docs/multilingual_impl_plan/honyaku-tebikisho.md`（翻訳手引書）
- `docs/multilingual_impl_plan/多言語実装計画書（修正版）.md`（多言語実装計画）
- `docs/Summary/yadopera-v03-summary.md`（v0.3要約定義書）
- `docs/Architecture/やどぺら_v0.3_アーキテクチャ設計書.md`（v0.3アーキテクチャ設計書）

---

## 1. 文書精読結果サマリー

### 1.1 翻訳手引書の目的と特徴

**目的**: 宿泊施設管理者が ChatGPT を使い、FAQを正確に多言語翻訳するための実務ガイド

**特徴**（✅ 評価良好）:
- ✅ 迷わず安全に高品質な翻訳ができる設計
- ✅ AI未経験者向けにコピペ可能な指示文テンプレート提供
- ✅ 翻訳前準備（日本語の構文を短く・明確に）を強調
- ✅ 期待される翻訳例（正解モデル）で品質イメージを明示
- ✅ よくある誤訳防止の指示テンプレート提供
- ✅ 確認チェックリスト（日本語意味との一致性・数字・誤解招き表現チェック）
- ✅ 複数FAQ一括翻訳（CSV想定）の手順提示
- ✅ トラブル時の対処法（不自然な翻訳→修正指示の具体例）

**課題**（⚠️ 改善余地あり）:
- ⚠️ 手引書は「宿泊施設管理者向けの翻訳ガイド」だが、実装側（開発チーム）の翻訳プロセスは記載なし
- ⚠️ 翻訳品質のQA・最終確認プロセスが曖昧
- ⚠️ 手引書は「英語・繁体中国語」を主対象としているが、本実装で追加する言語は繁体中国語・フランス語・韓国語。施設管理者が fr/ko を自ら翻訳する場合は付録で対象言語を拡張する選択肢あり。

### 1.2 多言語実装計画書の分析

**対応言語（Phase 4 必須・本実装で追加）**:
- ✅ 繁体中国語（zh-TW）
- ✅ フランス語（fr）
- ✅ 韓国語（ko）

**実装進捗**（2026年1月25日時点）:
- ✅ FAQ_PRESETSへの3言語翻訳が「未実装」状態で提案書作成済み
- ✅ バックエンド実装方針（plan_limits.py修正）が詳細に記載
- ✅ フロントエンド修正が「不要の見込み」として評価

**コードベース確認結果（実検）**:
- ✅ `backend/app/core/plan_limits.py`: プラン別言語フィルタリングの仕様が既に記載されている
- ✅ `backend/app/data/faq_presets.py`: 30個FAQ × 2言語（日本語・英語）で実装済み、3言語追加が実装されていない状態
- ✅ `frontend/src/utils/constants.ts`: 9言語定義済み（日本語、英語、繁体中国語、フランス語、韓国語、スペイン語、ドイツ語、タイ語、ベトナム語）

### 1.3 要約定義書＆アーキテクチャ設計書

**大原則の確認**（v0.3要約定義書 § 0）:
1. ✅ 根本解決 > 暫定解決
2. ✅ シンプル構造 > 複雑構造
3. ✅ 統一・同一化 > 特殊独自
4. ✅ 具体的 > 一般
5. ✅ 拙速 < 安全確実
6. **✅ Docker環境必須** > ローカル直接実行

**現況分析**（コミット: `c539459` on develop ブランチ）:
- ✅ Phase 2実装完了: 問い合わせフォーム、開発者管理ページ、ティザーサイト
- ✅ Phase 3実装中: 月次ダッシュボード統計、利用マニュアル
- ✅ Phase 4予定: 本番向けランディングページ、新規登録ページ

**ブランチ戦略**（v0.3.1で確定）:
- `main`ブランチ: 本番環境
- `develop`ブランチ: ステージング環境
- `feature/*`ブランチ: 機能開発

---

## 2. エビデンスベースの実装プラン提案

### 2.1 翻訳手引書の実装計画

**状態**: ✅ 完成度高い（施設管理者向けガイド）

**提案内容**:

#### 2.1.1 追加すべき項目（開発チーム向け）

手引書は「宿泊施設管理者がChatGPTで翻訳する際のガイド」として完成度が高いが、**開発チーム側の翻訳プロセス・QA方針**を別紙として追加することを推奨します。

**別紙1：開発チーム向け翻訳QAプロセス（新規作成推奨）**

```markdown
## 翻訳品質保証（QA）プロセス

### ステップ1: 翻訳品質チェックリスト
- [ ] 日本語FAQとの意味一致（誤訳・漏訳なし）
- [ ] 業界用語の統一（チェックイン→Check-in/入住など）
- [ ] 敬語・文体の統一（ホテル案内として不自然でない）
- [ ] 文字数チェック（質問150文字以内、回答500文字以内）
- [ ] 特殊文字・数字の確認（時刻表記「22時」「10:00 PM」「晚上10點」の統一）
- [ ] URLリンク・連絡先の確認（誤修正なし）

### ステップ2: ネイティブチェック（外注候補）
- **繁体中国語**: 台湾・香港在住ネイティブ（宿泊・観光業界経験者優先）
- **フランス語**: フランス・ベルギー・スイス在住ネイティブ
- **韓国語**: 韓国在住ネイティブ（宿泊業界経験者優先）

### ステップ3: 最終レビュー（開発チーム）
- 翻訳がシステムに正しく登録されたか確認
- ゲスト側の言語選択UI で正しく表示されるか確認（スクリーンショット）
- エンベディングベクトル生成エラーなし確認
```

**推奨実装タイミング**: Phase 3実装前（2月中旬予定）

#### 2.1.2 手引書の拡張内容（オプション）

以下の項目を「付録」として追加することを検討:

**付録A**: 業界用語辞書
- チェックイン/チェックアウト → Check-in/Check-out（英）、入住/退房（繁体中）、法国语、韓国語
- WiFi → Wi-Fi（統一）、無線網路（繁体中）など

**付録B**: 言語別の敬語レベル
- 日本語: 敬語（です・ます調）
- 英語: Polite but friendly（Please / Thank you重視）
- 繁体中国語: 敬語（敬稱「您」使用）
- フランス語: Formal politeness （Vous使用）
- 韓国語: Formal politeness（存敬語-습니다）

---

### 2.2 多言語実装計画の詳細提案

**状態**: ❌ 実装未開始（計画書のみ存在）

#### 2.2.1 実装スコープの確認

**対応言語（3言語確定）**:
1. **繁体中国語（zh-TW）** - 台湾・香港向け ✅
2. **フランス語（fr）** - ヨーロッパ向け ✅
3. **韓国語（ko）** - 韓国向け ✅

**実装対象ファイル**:

| ファイル | 現状 | 修正内容 |
|---------|------|---------|
| `backend/app/data/faq_presets.py` | 30FAQ × 2言語 | 3言語追加（90翻訳） |
| `backend/app/core/plan_limits.py` | プラン別言語リスト定義済み | 動作確認のみ |
| `backend/app/services/auth_service.py` | FAQ自動設定処理実装済み | 言語フィルタ動作確認 |
| `frontend/src/utils/constants.ts` | 9言語定義済み | 修正不要 |
| `frontend/src/views/guest/LanguageSelect.vue` | プラン別フィルタ実装済み | 修正不要 |

**補足（影響範囲）**:
- **既存施設**: 本対応では既存登録施設のFAQデータは変更されない。プリセット（zh-TW/fr/ko）が適用されるのは**新規登録時のみ**。既存施設へ新言語を一括付与する場合は別タスクとする。
- **埋め込みベクトル（embedding）**: 新言語の質問・回答を `faq_translations` に登録する際の embedding は、**既存の FAQ 登録フロー（faq_service 等）で自動生成**される。追加実装不要。

#### 2.2.2 データベース・マイグレーション確認

**結論**: ✅ マイグレーション不要

- `faq_translations`テーブル: `language VARCHAR(10)` で3言語対応可能
- `facilities`テーブル: `languages TEXT[]` で配列管理済み
- pgvectorインデックス: 既に実装済み

#### 2.2.3 実装ステップの詳細化

**フェーズA：翻訳作業（外注推奨）**

| 番号 | 作業 | 作業量 | 推奨実施者 | 期間 |
|------|------|--------|-----------|------|
| 1 | FAQ_PRESETSの日本語・英語を整形 | 中 | 開発チーム | 1日 |
| 2 | 30FAQ × 3言語の翻訳（機械翻訳） | 小 | DeepL Pro | 2日 |
| 3 | ネイティブによる品質チェック | 大 | 外注（クラウドソーシング） | 5-7日 |
| 4 | 最終レビュー＆修正 | 中 | 開発チーム | 2日 |
| 5 | Python FAQ_PRESETSへの統合 | 小 | 開発チーム | 1日 |

**フェーズB：バックエンド実装（開発チーム）**

| 番号 | 作業 | ファイル | 修正内容 | 期間 |
|------|------|---------|---------|------|
| 1 | FAQ_PRESETS実装 | `faq_presets.py` | 3言語追加（構造は既存と同じ） | 1日 |
| 2 | 言語フィルタ動作確認 | `plan_limits.py` | 動作確認のみ（修正なし） | 0.5日 |
| 3 | FAQ自動設定の動作確認 | `auth_service.py` | 動作確認のみ（修正なし） | 0.5日 |
| 4 | 言語数制限バリデーション確認 | `faq_service.py` | 動作確認のみ（修正なし） | 0.5日 |
| 5 | 単体テスト実装 | `tests/test_faq_presets.py` | プラン別フィルタテスト | 1日 |

**フェーズC：フロントエンド検証（開発チーム）**

| 番号 | 作業 | ファイル | 確認内容 | 期間 |
|------|------|---------|---------|------|
| 1 | 言語選択UI確認 | `LanguageSelect.vue` | プラン別言語フィルタ表示 | 0.5日 |
| 2 | ダークモード確認 | 各画面 | 3言語表示時の見映え確認 | 0.5日 |
| 3 | レスポンシブ確認 | 各画面 | スマートフォン（375px-428px）での表示確認 | 0.5日 |

**フェーズD：統合テスト＆デプロイ（Docker環境必須）**

| 番号 | 作業 | テスト内容 | 環境 | 期間 |
|------|------|-----------|------|------|
| 1 | Docker環境起動 | docker-compose up -d | ローカル | 0.5日 |
| 2 | 新規登録フロー（5プラン × 3言語） | Free/Mini/Small/Standard/Premiumで新規登録 | docker | 1日 |
| 3 | ゲスト側言語選択確認 | プラン別に言語が正しく表示される | docker | 0.5日 |
| 4 | チャット動作確認 | 各言語でのAI応答確認 | docker | 1日 |
| 5 | ステージング環境デプロイ | develop ブランチにコミット＆デプロイ | staging | 0.5日 |
| 6 | ステージング環境ブラウザテスト | 実機テスト（複数端末） | staging | 1.5日 |
| 7 | 本番環境デプロイ | main ブランチにマージ＆デプロイ | production | 0.5日 |

**総作業時間**: 18～20営業日（約4週間）

---

### 2.3 翻訳作業の詳細仕様

#### 2.3.1 翻訳対象の30個FAQ

**カテゴリ別内訳**:

| カテゴリ | FAQ数 | intent_key例 |
|---------|-------|-------------|
| Basic | 8 | basic_quiet_hours, basic_smoking_policy など |
| Facilities | 8 | facility_kitchen, facility_shower など |
| Location | 7 | location_convenience_store, location_restaurant など |
| Trouble | 7 | trouble_wifi, trouble_key_lost など |

#### 2.3.2 翻訳品質の目安（CEFR B2レベル相当）

**英語**:
- 自然な英語、宿泊案内として不自然でない
- ビジネス英語（Polite & Professional）
- 例: "Please keep noise to a minimum after 10:00 PM." ✅ vs "Don't make noise after 10pm." ❌

**繁体中国語**:
- 台湾・香港で使用される繁体中字
- 敬語（敬稱「您」を使用）
- 宿泊業界用語の統一（例：入住チェックイン、退房=チェックアウト、房間=部屋）
- 例: "晚上10點後請盡量保持安靜。" ✅

**フランス語**:
- Formal politeness（Vous を使用）
- フランス・ベルギー・スイス在住者が理解可能
- 例: "Veuillez garder le silence après 22h00." ✅

**韓国語**:
- Formal politeness（存敬語 -습니다）
- 韓国で一般的な韓国語（北韓ではなく南韓）
- 例: "오후 10시 이후에는 조용히 해주세요." ✅

#### 2.3.3 翻訳の実装形式

現在の `faq_presets.py` の構造を維持:

```python
{
    "category": "basic",
    "intent_key": "basic_quiet_hours",
    "priority": 5,
    "translations": [
        {
            "language": "ja",
            "question": "...",
            "answer": "..."
        },
        {
            "language": "en",
            "question": "...",
            "answer": "..."
        },
        {  # ← 3言語追加
            "language": "zh-TW",
            "question": "...",
            "answer": "..."
        },
        {
            "language": "fr",
            "question": "...",
            "answer": "..."
        },
        {
            "language": "ko",
            "question": "...",
            "answer": "..."
        }
    ]
}
```

---

### 2.4 バックエンド実装の詳細

#### 2.4.1 plan_limits.py の確認項目

**現状の仕様**（コード精読):

```python
PLAN_FAQ_LIMITS: Dict[str, Dict[str, Any]] = {
    "free": {
        "max_faqs": 20,
        "languages": ["ja"]  # ← プラン別言語リストが既に定義済み
    },
    "mini": {
        "max_faqs": 30,
        "languages": ["ja", "en"]
    },
    ...
}
```

**確認結果**: ✅ 言語リストが既に正しく定義されている

**動作確認項目**:
1. `filter_faq_presets_by_plan()` が3言語を正しくフィルタできるか
2. Premiumプランで `languages: None` のとき、全言語が許可されるか
3. Freeプランで `languages: ["ja"]` のとき、日本語以外がフィルタされるか

#### 2.4.2 auth_service.py の確認項目

**現状の実装**（要確認項目）:

```python
async def _setup_default_faqs(self, facility_id: int, subscription_plan: str):
    """施設の初期FAQを設定"""
    
    # プリセットFAQをフィルタ（プラン別）
    filtered_presets = filter_faq_presets_by_plan(
        FAQ_PRESETS,
        subscription_plan
    )
    
    # ...FAQ登録処理...
```

**確認結果**: ✅ 既存の `filter_faq_presets_by_plan()` が呼ばれているため、3言語追加後は自動的に機能する見込み

**動作確認項目**:
1. 新規登録時のFAQ自動設定がプラン別に正しく実行されるか
2. `facilities.languages` カラムに正しいプラン別言語リストが設定されるか
3. ゲスト側で言語選択UIに正しい言語のみ表示されるか

#### 2.4.3 faq_service.py の確認項目

**現状の実装**（言語数制限バリデーション）:

```python
async def create_faq(self, facility_id: int, request: FAQRequest) -> FAQ:
    # 言語数制限バリデーション
    if facility.language_limit is not None:
        existing_languages = await self._get_facility_languages(facility_id)
        new_languages = {trans.language for trans in request.translations}
        all_languages = existing_languages | new_languages
        
        if len(all_languages) > facility.language_limit:
            raise ValueError(f"プランの言語数制限に達しています...")
```

**確認結果**: ✅ バリデーションロジックは既に実装済み

**動作確認項目**:
1. Freeプラン（言語制限: 1）で2言語目を追加しようとすると、エラーになるか
2. Miniプラン（言語制限: 2）で3言語目を追加しようとすると、エラーになるか
3. Premiumプラン（言語制限: None）で5言語すべてを追加できるか

---

### 2.5 フロントエンド実装の確認

#### 2.5.1 言語選択UI（修正不要の見込み）

**ファイル**: `frontend/src/views/guest/LanguageSelect.vue`

**現状のコード**（要確認）:
```typescript
// APIから施設情報を取得
const availableLanguages = response.facility.available_languages || ['en']

// SUPPORTED_LANGUAGESから、利用可能な言語のみをフィルタリング
const filteredLanguages = SUPPORTED_LANGUAGES.filter(lang => 
  availableLanguages.includes(lang.code)
)
```

**確認結果**: ✅ バックエンド側で `facilities.languages` が正しく設定されれば、フロントエンド側は修正不要

**動作確認項目**:
1. APIレスポンスに `available_languages` が含まれるか
2. プラン別に正しい言語のみ表示されるか
3. 言語選択後にチャット画面に遷移するか

#### 2.5.2 言語定数の確認

**ファイル**: `frontend/src/utils/constants.ts`

**確認結果**: ✅ 9言語すべて定義済み

```typescript
export const SUPPORTED_LANGUAGES = [
  { code: 'ja', name: '日本語', flag: '🇯🇵' },
  { code: 'en', name: 'English', flag: '🇬🇧' },
  { code: 'zh-TW', name: '繁體中文', flag: '🇹🇼' },
  { code: 'fr', name: 'Français', flag: '🇫🇷' },
  { code: 'ko', name: '한국어', flag: '🇰🇷' },
  ...
]
```

---

### 2.6 Docker環境での実装・テスト方針

#### 2.6.1 Docker環境の確認

**確認内容**:

```bash
# Docker環境起動
cd /Users/kurinobu/projects/yadopera
docker-compose up -d

# バックエンド起動確認
curl http://localhost:8000/api/v1/health

# PostgreSQL接続確認
docker exec -it yadopera-postgres psql -U yadopera_user -d yadopera -c "\dt"

# Redis接続確認
docker exec -it yadopera-redis redis-cli ping
```

#### 2.6.2 修正・テストの流れ（大原則 § 6 準拠）

**ステップ1**: FAQ_PRESETS.py に3言語追加

```bash
# エディターで修正
vim backend/app/data/faq_presets.py  # 90翻訳を追加

# Python構文チェック
python -m py_compile backend/app/data/faq_presets.py
```

**ステップ2**: Docker環境でテスト

```bash
# Docker環境を再起動（変更反映）
docker-compose restart backend

# 新規登録フロー（テストユーザー）
curl -X POST http://localhost:8000/api/v1/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "email": "test-small@example.com",
    "password": "password123",
    "facility_name": "Test Small Facility",
    "subscription_plan": "small"
  }'

# ゲスト側言語選択確認
curl http://localhost:8000/api/v1/facility/test-small-facility
# → JSON response に available_languages: ["ja", "en", "zh-TW"] が含まれるか確認
```

**ステップ3**: ブラウザテスト（フロントエンド）

```bash
# フロントエンド起動
cd frontend
npm run dev

# ブラウザで http://localhost:5173 を開く
# 1. 新規登録フロー（Smallプラン）
# 2. ゲスト画面QRコード読取
# 3. 言語選択画面で「日本語」「English」「繁體中文」のみ表示される確認
```

---

## 3. 実装プランの全体像

### 3.1 タイムライン（推奨スケジュール）

| 時期 | 作業 | 期間 | 実施者 | 備考 |
|------|------|------|--------|------|
| 2月10-16日 | 翻訳作業（機械翻訳+ネイティブチェック） | 7日 | 外注 | DeepL + クラウドソーシング |
| 2月17-18日 | FAQ_PRESETSへの統合＋単体テスト | 2日 | 開発チーム | Docker環境で実施 |
| 2月19-21日 | フロントエンド検証＋統合テスト | 3日 | 開発チーム | Docker環境で実施 |
| 2月22-23日 | ステージング環境デプロイ＋ブラウザテスト | 2日 | 開発チーム | 実機テスト |
| 2月24-26日 | 本番環境デプロイ＆モニタリング | 3日 | 開発チーム | サポート体制準備 |

**総期間**: 4週間（2月10日～2月26日）

### 3.2 推奨実装順序（依存関係順）

**フェーズ1（翻訳）**:
1. ✅ 日本語・英語FAQの整形＆確認
2. ✅ 機械翻訳（DeepL Pro）
3. ✅ ネイティブチェック＆修正
4. ✅ 最終レビュー

**フェーズ2（バックエンド）**:
5. ✅ FAQ_PRESETS.py に3言語追加
6. ✅ plan_limits.py の動作確認
7. ✅ auth_service.py の動作確認
8. ✅ faq_service.py の動作確認
9. ✅ 単体テスト作成＆実行

**フェーズ3（フロントエンド）**:
10. ✅ LanguageSelect.vue の動作確認（修正不要の見込み）
11. ✅ constants.ts の確認（修正不要）
12. ✅ 言語選択UI のプラン別フィルタリング確認

**フェーズ4（統合テスト）**:
13. ✅ Docker環境での新規登録フロー（5プラン × 3言語）
14. ✅ ゲスト側言語選択確認
15. ✅ チャット動作確認

**フェーズ5（デプロイ）**:
16. ✅ ステージング環境にプッシュ＆デプロイ
17. ✅ ステージング環境ブラウザテスト
18. ✅ 本番環境にマージ＆デプロイ

---

## 4. リスク分析＆対策

### 4.1 翻訳品質リスク

**リスク**: ネイティブスピーカーでない翻訳による自然さの欠落

**発生確率**: 中（機械翻訳のみの場合は高）

**影響度**: 高（ゲスト満足度低下、サービス評判悪化）

**対策**:
- ✅ ネイティブチェック必須（外注費 ¥30,000～¥50,000）
- ✅ 業界用語辞書の作成＆統一
- ✅ 最終レビューで品質確認

### 4.2 バックエンド実装リスク

**リスク**: 言語フィルタロジックのバグによるプラン超過時の言語登録

**発生確率**: 低（既存コードで実装済みのため）

**影響度**: 中（プランと言語数が不一致）

**対策**:
- ✅ 単体テストの実施（plan_limits.py の filter_faq_presets_by_plan()）
- ✅ 統合テストで5プラン × 3言語の組み合わせ確認
- ✅ faq_service.py のバリデーションロジック確認

### 4.3 フロントエンド実装リスク

**リスク**: APIレスポンスに `available_languages` が含まれないため、フロントエンドで言語フィルタが機能しない

**発生確率**: 低（バックエンド側で設定されるため）

**影響度**: 高（ゲストが選択できない言語が表示される）

**対策**:
- ✅ APIレスポンスの確認（curl コマンドで確認）
- ✅ ブラウザ開発者ツールのネットワークタブで確認
- ✅ フロントエンド側のフォールバック処理（defaultLanguages）確認

### 4.4 デプロイリスク

**リスク**: ステージング環境でテストなしに本番環境にデプロイされる

**発生確率**: 低（ブランチ戦略で保護されているため）

**影響度**: 極高（本番環境にバグがリリースされる）

**対策**:
- ✅ ステージング環境で2-3日間の実機テスト（複数端末）
- ✅ develop ブランチでのテスト完了後、main ブランチにマージ
- ✅ デプロイ後のモニタリング（エラーログ確認）

---

## 5. 現状まとめ＆推奨事項

### 5.1 実装準備度の評価

| 項目 | 評価 | 備考 |
|------|------|------|
| 翻訳手引書の完成度 | ✅ 95% | 施設管理者向けガイドとして優秀。開発チーム向けQAプロセスを追加推奨 |
| 多言語実装計画の詳細度 | ✅ 90% | 計画書は詳細。実装まだ |
| コードベース準備度 | ✅ 85% | FAQ_PRESETS以外はほぼ完成。翻訳データのみ不足 |
| Docker環境 | ✅ 100% | docker-compose.yml で本番同等環境を用意済み |
| ブランチ戦略 | ✅ 100% | main/develop/feature/* で保護されている |

### 5.2 推奨される次のアクション

1. **翻訳作業の開始**（最優先）
   - 機械翻訳（DeepL Pro）の実施
   - ネイティブチェック（外注）の発注
   - 予算: ¥30,000～¥50,000

2. **開発チーム向けQAプロセスの文書化**（並行）
   - 翻訳品質チェックリスト作成
   - テスト仕様書作成

3. **テストスクリプトの事前準備**（並行）
   - Docker環境での新規登録フロー自動化テスト
   - ブラウザテストの手順書作成

4. **ステージング環境の事前整備**（並行）
   - develop ブランチの最新版をステージング環境にデプロイ
   - 動作確認用テストデータの準備

---

## 6. 添付資料

### 6.1 翻訳手引書の引用

`docs/multilingual_impl_plan/honyaku-tebikisho.md` は **施設管理者向けのChatGPT翻訳ガイド**として完成度が高い。

**特に優秀な点**:
- コピペ可能な指示文テンプレート
- 期待される翻訳例（正解モデル）
- よくある誤訳防止テンプレ
- 確認チェックリスト

**このガイド自体を施設管理者に配布することで、自動設定後のFAQ更新時に高品質な翻訳が期待できる**。

### 6.2 多言語実装計画書の引用

`docs/multilingual_impl_plan/多言語実装計画書（修正版）.md` の v0.3.5実装状況確認と提案内容が正確。

**特に有用な項目**:
- § 2: 現状分析（データベース構造、FAQ_PRESETSの現状）
- § 3: 実装アプローチ（大原則準拠、翻訳方針）
- § 5: バックエンド実装（プラン別言語フィルタ、埋め込みベクトル並列処理）

---

## 7. 最終提案書

### 提案概要

**翻訳手引書**と**多言語実装計画**の統合実施により、以下を実現できます：

1. **施設管理者による高品質翻訳** → 翻訳手引書を活用
2. **プラン別の言語制限の実装** → 多言語実装計画で詳細化
3. **4週間での実装完了** → 明確なタイムラインで実施

### 実装前提条件

- ✅ Docker環境での修正・テスト実施（大原則 § 6 厳守）
- ✅ ネイティブスピーカーによる翻訳品質チェック（予算¥30,000～¥50,000）
- ✅ ステージング環境での実機テスト（2-3日間）
- ✅ develop → main ブランチのマージプロセス遵守

### 次のステップ

1. **本提案書の確認** → 指示待ち
2. **翻訳作業の開始** → 外注発注開始
3. **バックエンド実装** → 開発チーム
4. **統合テスト＆デプロイ** → 開発チーム

---

## 8. 実装準備チェックリスト（指示があるまで実装しない）

実装着手前に以下を確認し、指示後にのみ実装を開始する。

### 8.1 環境・文書

- [ ] Docker が利用可能（`docker-compose up -d` で postgres / redis / backend / frontend が起動すること）
- [ ] 要約定義書・Phase3_現況と残存課題を参照済み
- [ ] 本提案書 §2.2（実装スコープ）・§2.2.3（実装ステップ）を精読済み
- [ ] 評価報告書 `実装プラン提案書_評価報告_20260213.md` を確認済み

### 8.2 実装時の必須ルール

- [ ] **すべての修正・テストは Docker 環境で実施**（大原則 §6）
- [ ] 変更は `feature/*` または `develop` で行い、ステージング確認後に `main` へマージ
- [ ] `backend/app/data/faq_presets.py` の修正は 30FAQ × 3言語（zh-TW, fr, ko）= 90 翻訳の追加が中心
- [ ] 新規登録フロー・ゲスト言語選択・既存単体テスト（`tests/test_faq_presets.py` 等）を Docker 上で実行して確認

### 8.3 実装着手順（指示後のみ）

1. 翻訳データ（90 件）の準備ができていること
2. `faq_presets.py` に各 FAQ の `translations` へ zh-TW / fr / ko を追加
3. `python -m py_compile backend/app/data/faq_presets.py` で構文チェック
4. `docker-compose restart backend` のち、新規登録（Small/Standard/Premium）で言語選択・FAQ 件数を確認
5. 既存テストを Docker 内で実行（例: `test_facility_available_languages.py`、`test_faq_service_language_limit.py`）。必要に応じて `test_faq_presets.py`（プラン別フィルタ）を新規作成
6. ステージングデプロイ後、ブラウザで言語選択 UI を確認

**状態**: 実装は指示があるまで行わない。上記チェックリストと手順で実装準備は整っている。

---

**提案書作成日**: 2026年2月7日  
**最終更新**: 2026年2月13日  
**提案者**: GitHub Copilot  
**対象プロジェクト**: YadOPERA v0.3.11 以降  
**実装フェーズ**: Phase 4 必須（多言語対応・3言語追加）。Phase 3 で先行実施可能。要約定義書 7章・Phase3_現況と残存課題 §5.2 参照。
