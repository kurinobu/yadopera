# ãƒãƒ£ãƒƒãƒˆAPIã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚¨ãƒ©ãƒ¼ - å®Œå…¨èª¿æŸ»åˆ†æãƒ»ä¿®æ­£æ¡ˆ

**ä½œæˆæ—¥æ™‚**: 2026å¹´01æœˆ17æ—¥  
**ç›®çš„**: ãƒãƒ£ãƒƒãƒˆAPIã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚¨ãƒ©ãƒ¼ã®å®Œå…¨èª¿æŸ»åˆ†æã¨ä¿®æ­£æ¡ˆ  
**çŠ¶æ…‹**: ğŸ“‹ **èª¿æŸ»åˆ†æå®Œäº†ãƒ»ä¿®æ­£æ¡ˆæº–å‚™å®Œäº†**

---

## 1. å•é¡Œã®æ¦‚è¦

### 1.1 å ±å‘Šã•ã‚ŒãŸå•é¡Œ

- **ã‚¨ãƒ©ãƒ¼**: `ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¾ã—ãŸã€‚æ¥ç¶šã‚’ç¢ºèªã—ã¦å†åº¦ãŠè©¦ã—ãã ã•ã„ã€‚`
- **ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰**: `TIMEOUT_ERROR`
- **HTTPã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¯200 OKã‚’è¿”ã—ã¦ã„ã‚‹ï¼‰

### 1.2 ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è©³ç´°

```
Error object: {
  "code": "TIMEOUT_ERROR",
  "message": "ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¾ã—ãŸã€‚æ¥ç¶šã‚’ç¢ºèªã—ã¦å†åº¦ãŠè©¦ã—ãã ã•ã„ã€‚"
}
```

**ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿç®‡æ‰€**: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆ`frontend/src/api/axios.ts`ï¼‰

---

## 2. æ ¹æœ¬åŸå› ã®èª¿æŸ»åˆ†æ

### 2.1 å•é¡Œã®è©³ç´°åˆ†æ

#### 2.1.1 ã‚µãƒ¼ãƒãƒ¼ãƒ­ã‚°ã®ç¢ºèª

**ã‚µãƒ¼ãƒãƒ¼ãƒ­ã‚°**:
```
[POST] yadopera-backend-staging.onrender.com/api/v1/chat
responseTimeMS=11585
INFO: "POST /api/v1/chat HTTP/1.1" 200 OK
```

**åˆ†æçµæœ**:
- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¯æ­£å¸¸ã«å‡¦ç†ã‚’å®Œäº†ã—ã€200 OKã‚’è¿”ã—ã¦ã„ã‚‹
- å‡¦ç†æ™‚é–“ã¯11.585ç§’ï¼ˆç´„11.6ç§’ï¼‰
- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å´ã«å•é¡Œã¯ãªã„

#### 2.1.2 ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®š

**ãƒ•ã‚¡ã‚¤ãƒ«**: `frontend/src/api/axios.ts`

**ç¾åœ¨ã®è¨­å®š**:
```typescript
const apiClient: AxiosInstance = axios.create({
  baseURL: `${API_BASE_URL}/api/v1`,
  timeout: 10000, // 10ç§’ï¼ˆæ–½è¨­ãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆã®ã¿ã‚’è€ƒæ…®ã€FAQè‡ªå‹•æŠ•å…¥ã¯éåŒæœŸåŒ–ï¼‰
  headers: {
    'Content-Type': 'application/json'
  }
})
```

**å•é¡Œç‚¹**:
- ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®šãŒ10ç§’ã«è¨­å®šã•ã‚Œã¦ã„ã‚‹
- å®Ÿéš›ã®å‡¦ç†æ™‚é–“ã¯11.585ç§’
- 10ç§’ã‚’è¶…ãˆãŸæ™‚ç‚¹ã§ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãŒã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã¨ã—ã¦æ‰±ã£ã¦ã„ã‚‹

#### 2.1.3 ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ•ã‚¡ã‚¤ãƒ«ã®ç¢ºèª

**ãƒ•ã‚¡ã‚¤ãƒ«**: `frontend/src/api/axios.ts.bak_20251220_141701`

**ä»¥å‰ã®è¨­å®š**:
```typescript
timeout: 30000, // 30ç§’
```

**åˆ†æçµæœ**:
- ä»¥å‰ã¯30ç§’ã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®šã ã£ãŸ
- ä½•ã‚‰ã‹ã®ç†ç”±ã§10ç§’ã«çŸ­ç¸®ã•ã‚ŒãŸ
- ãƒãƒ£ãƒƒãƒˆAPIã¯AIå¿œç­”ç”Ÿæˆã®ãŸã‚ã€å‡¦ç†æ™‚é–“ãŒé•·ããªã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹

### 2.2 æ ¹æœ¬åŸå› ã®ç‰¹å®š

#### 2.2.1 ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®šãŒçŸ­ã™ãã‚‹

**åŸå› **:
1. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®šãŒ10ç§’
2. ãƒãƒ£ãƒƒãƒˆAPIã®å‡¦ç†æ™‚é–“ãŒ11.585ç§’
3. 10ç§’ã‚’è¶…ãˆãŸæ™‚ç‚¹ã§ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãŒã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã¨ã—ã¦æ‰±ã†

#### 2.2.2 ãƒãƒ£ãƒƒãƒˆAPIã®å‡¦ç†æ™‚é–“ãŒé•·ã„ç†ç”±

**å‡¦ç†å†…å®¹**:
1. **ä¼šè©±ã®å–å¾—/ä½œæˆ**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¯ã‚¨ãƒª
2. **RAGå‡¦ç†**: ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢ã€FAQæ¤œç´¢
3. **OpenAI APIå‘¼ã³å‡ºã—**: AIå¿œç­”ç”Ÿæˆ
4. **ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ä¿å­˜**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¸ã®æ›¸ãè¾¼ã¿

**Render.comã®ç„¡æ–™ãƒ—ãƒ©ãƒ³ã®åˆ¶ç´„**:
- ã‚³ãƒ¼ãƒ«ãƒ‰ã‚¹ã‚¿ãƒ¼ãƒˆã«ã‚ˆã‚‹é…å»¶
- ãƒªã‚½ãƒ¼ã‚¹åˆ¶é™ã«ã‚ˆã‚‹å‡¦ç†é€Ÿåº¦ã®ä½ä¸‹
- ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯é…å»¶

#### 2.2.3 ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®šã®å¤‰æ›´å±¥æ­´

**å¤‰æ›´ç†ç”±ã®æ¨æ¸¬**:
- ã‚³ãƒ¡ãƒ³ãƒˆ: `// 10ç§’ï¼ˆæ–½è¨­ãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆã®ã¿ã‚’è€ƒæ…®ã€FAQè‡ªå‹•æŠ•å…¥ã¯éåŒæœŸåŒ–ï¼‰`
- ãƒãƒ£ãƒƒãƒˆAPIã¯è€ƒæ…®ã•ã‚Œã¦ã„ãªã„å¯èƒ½æ€§ãŒã‚ã‚‹

---

## 3. ä¿®æ­£æ¡ˆ

### 3.1 ä¿®æ­£æ¡ˆ1: ãƒãƒ£ãƒƒãƒˆAPIå°‚ç”¨ã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®šï¼ˆæ¨å¥¨ï¼‰

**æ¦‚è¦**: ãƒãƒ£ãƒƒãƒˆAPIå°‚ç”¨ã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®šã‚’è¿½åŠ ã—ã€ä»–ã®APIã¯10ç§’ã®ã¾ã¾ç¶­æŒ

**ãƒ¡ãƒªãƒƒãƒˆ**:
- âœ… ãƒãƒ£ãƒƒãƒˆAPIã®ã¿é•·ã„ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚’è¨­å®šã§ãã‚‹
- âœ… ä»–ã®APIã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã¯çŸ­ã„ã¾ã¾ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“å‘ä¸Šï¼‰
- âœ… æ˜ç¢ºãªæ„å›³ã‚’ç¤ºã›ã‚‹

**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**:
- âš ï¸ ã‚³ãƒ¼ãƒ‰ãŒå°‘ã—è¤‡é›‘ã«ãªã‚‹ï¼ˆå¤§åŸå‰‡ã€Œçµ±ä¸€ > ç‰¹æ®Šãƒ¦ãƒ‹ãƒ¼ã‚¯ã€ã«åã™ã‚‹ï¼‰

**å®Ÿè£…æ–¹æ³•**:

1. **`frontend/src/api/chat.ts`ã‚’ä¿®æ­£**:
```typescript
export const chatApi = {
  async sendMessage(data: ChatRequest): Promise<ChatResponse> {
    // ãƒãƒ£ãƒƒãƒˆAPIå°‚ç”¨ã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®šï¼ˆ60ç§’ï¼‰
    const response = await apiClient.post<ChatResponse>('/chat', data, {
      timeout: 60000 // 60ç§’
    })
    return response.data
  },
  // ... ä»–ã®ãƒ¡ã‚½ãƒƒãƒ‰
}
```

2. **`frontend/src/api/chat.ts`ã®`getHistory`ã‚‚ä¿®æ­£**:
```typescript
async getHistory(sessionId: string, facilityId?: number): Promise<ChatHistoryResponse> {
  const params = facilityId ? { facility_id: facilityId } : {}
  const response = await apiClient.get<ChatHistoryResponse>(`/chat/history/${sessionId}`, {
    params,
    timeout: 30000 // 30ç§’ï¼ˆå±¥æ­´å–å¾—ã¯çŸ­ã‚ï¼‰
  })
  return response.data
}
```

### 3.2 ä¿®æ­£æ¡ˆ2: ã™ã¹ã¦ã®APIãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚’å»¶é•·

**æ¦‚è¦**: ã™ã¹ã¦ã®APIãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚’30ç§’ã«å»¶é•·

**ãƒ¡ãƒªãƒƒãƒˆ**:
- âœ… ã‚·ãƒ³ãƒ—ãƒ«ãªå®Ÿè£…ï¼ˆå¤§åŸå‰‡ã€Œçµ±ä¸€ > ç‰¹æ®Šãƒ¦ãƒ‹ãƒ¼ã‚¯ã€ã«æº–æ‹ ï¼‰
- âœ… ã™ã¹ã¦ã®APIã§ä½™è£•ã®ã‚ã‚‹ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ

**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**:
- âš ï¸ ä»–ã®APIã§ã‚‚ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆãŒé•·ããªã‚‹ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ãŒæ‚ªåŒ–ã™ã‚‹å¯èƒ½æ€§ï¼‰

**å®Ÿè£…æ–¹æ³•**:

1. **`frontend/src/api/axios.ts`ã‚’ä¿®æ­£**:
```typescript
const apiClient: AxiosInstance = axios.create({
  baseURL: `${API_BASE_URL}/api/v1`,
  timeout: 30000, // 30ç§’ï¼ˆãƒãƒ£ãƒƒãƒˆAPIã®å‡¦ç†æ™‚é–“ã‚’è€ƒæ…®ï¼‰
  headers: {
    'Content-Type': 'application/json'
  }
})
```

### 3.3 ä¿®æ­£æ¡ˆ3: ç’°å¢ƒå¤‰æ•°ã§ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚’è¨­å®š

**æ¦‚è¦**: ç’°å¢ƒå¤‰æ•°ã§ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚’è¨­å®šã—ã€ç’°å¢ƒã”ã¨ã«èª¿æ•´å¯èƒ½ã«ã™ã‚‹

**ãƒ¡ãƒªãƒƒãƒˆ**:
- âœ… ç’°å¢ƒã”ã¨ã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚’èª¿æ•´å¯èƒ½
- âœ… æœ¬ç•ªç’°å¢ƒã¨ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç’°å¢ƒã§ç•°ãªã‚‹è¨­å®šãŒå¯èƒ½

**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**:
- âš ï¸ å®Ÿè£…ãŒè¤‡é›‘ã«ãªã‚‹
- âš ï¸ ç’°å¢ƒå¤‰æ•°ã®ç®¡ç†ãŒå¿…è¦

---

## 4. æ¨å¥¨ä¿®æ­£æ¡ˆ

### 4.1 æ¨å¥¨: ä¿®æ­£æ¡ˆ1ï¼ˆãƒãƒ£ãƒƒãƒˆAPIå°‚ç”¨ã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®šï¼‰

**ç†ç”±**:
1. **ãƒãƒ£ãƒƒãƒˆAPIã®ç‰¹æ®Šæ€§**: AIå¿œç­”ç”Ÿæˆã®ãŸã‚ã€å‡¦ç†æ™‚é–“ãŒé•·ããªã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹
2. **ä»–ã®APIã¸ã®å½±éŸ¿ã‚’æœ€å°åŒ–**: ä»–ã®APIã¯10ç§’ã®ã¾ã¾ç¶­æŒã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã‚’ç¶­æŒ
3. **æ˜ç¢ºãªæ„å›³**: ãƒãƒ£ãƒƒãƒˆAPIã®ã¿é•·ã„ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚’è¨­å®šã™ã‚‹ã“ã¨ã§ã€æ„å›³ãŒæ˜ç¢º

**å®Ÿè£…ã‚¹ãƒ†ãƒƒãƒ—**:

1. **ã‚¹ãƒ†ãƒƒãƒ—1: `frontend/src/api/chat.ts`ã‚’ä¿®æ­£**
   - `sendMessage`ãƒ¡ã‚½ãƒƒãƒ‰ã«`timeout: 60000`ï¼ˆ60ç§’ï¼‰ã‚’è¿½åŠ 
   - `getHistory`ãƒ¡ã‚½ãƒƒãƒ‰ã«`timeout: 30000`ï¼ˆ30ç§’ï¼‰ã‚’è¿½åŠ 

2. **ã‚¹ãƒ†ãƒƒãƒ—2: ãƒ†ã‚¹ãƒˆ**
   - ãƒ–ãƒ©ã‚¦ã‚¶ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
   - ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãªã„ã“ã¨ã‚’ç¢ºèª

3. **ã‚¹ãƒ†ãƒƒãƒ—3: ãƒ‡ãƒ—ãƒ­ã‚¤**
   - ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥
   - ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç’°å¢ƒã«ãƒ‡ãƒ—ãƒ­ã‚¤
   - å†åº¦ãƒ–ãƒ©ã‚¦ã‚¶ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ

---

## 5. ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®šã®æ¨å¥¨å€¤

### 5.1 ãƒãƒ£ãƒƒãƒˆAPI

- **`sendMessage`**: 60ç§’
  - ç†ç”±: AIå¿œç­”ç”Ÿæˆã€RAGå‡¦ç†ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¯ã‚¨ãƒªãªã©ã€å‡¦ç†æ™‚é–“ãŒé•·ããªã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹
  - Render.comã®ç„¡æ–™ãƒ—ãƒ©ãƒ³ã§ã¯ã€ã‚³ãƒ¼ãƒ«ãƒ‰ã‚¹ã‚¿ãƒ¼ãƒˆã‚„ãƒªã‚½ãƒ¼ã‚¹åˆ¶é™ã«ã‚ˆã‚Šã€å‡¦ç†æ™‚é–“ãŒé•·ããªã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹

- **`getHistory`**: 30ç§’
  - ç†ç”±: å±¥æ­´å–å¾—ã¯æ¯”è¼ƒçš„è»½é‡ã ãŒã€å¤§é‡ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒã‚ã‚‹å ´åˆã¯æ™‚é–“ãŒã‹ã‹ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹

### 5.2 ãã®ä»–ã®API

- **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ**: 10ç§’
  - ç†ç”±: æ–½è¨­æƒ…å ±å–å¾—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆãªã©ã€æ¯”è¼ƒçš„è»½é‡ãªå‡¦ç†

---

## 6. å¤§åŸå‰‡ã¸ã®æº–æ‹ 

### 6.1 å¤§åŸå‰‡ã®ç¢ºèª

1. **æ ¹æœ¬åŸå›  > ä¸€æ™‚çš„ãªå¯¾å‡¦**: âœ…
   - ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®šãŒçŸ­ã™ãã‚‹ã“ã¨ãŒæ ¹æœ¬åŸå› 
   - ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®šã‚’é©åˆ‡ã«èª¿æ•´ã™ã‚‹ã“ã¨ã§æ ¹æœ¬è§£æ±º

2. **ã‚·ãƒ³ãƒ—ãƒ«ãªæ§‹é€  > è¤‡é›‘ãªæ§‹é€ **: âš ï¸
   - ä¿®æ­£æ¡ˆ1ã¯å°‘ã—è¤‡é›‘ã«ãªã‚‹ãŒã€ãƒãƒ£ãƒƒãƒˆAPIã®ç‰¹æ®Šæ€§ã‚’è€ƒæ…®ã™ã‚‹ã¨é©åˆ‡

3. **çµ±ä¸€ > ç‰¹æ®Šãƒ¦ãƒ‹ãƒ¼ã‚¯**: âš ï¸
   - ä¿®æ­£æ¡ˆ1ã¯ç‰¹æ®Šãƒ¦ãƒ‹ãƒ¼ã‚¯ãªè¨­å®šã«ãªã‚‹ãŒã€ãƒãƒ£ãƒƒãƒˆAPIã®ç‰¹æ®Šæ€§ã‚’è€ƒæ…®ã™ã‚‹ã¨é©åˆ‡

4. **å…·ä½“çš„ > ä¸€èˆ¬çš„**: âœ…
   - ãƒãƒ£ãƒƒãƒˆAPIå°‚ç”¨ã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®šã¯å…·ä½“çš„ã§æ˜ç¢º

5. **é…ãã¦ã‚‚å®‰å…¨ < é€Ÿãã¦ã‚‚ä¿¡é ¼æ€§ãŒä½ã„**: âœ…
   - ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚’é•·ãã™ã‚‹ã“ã¨ã§ã€ä¿¡é ¼æ€§ãŒå‘ä¸Š

### 6.2 å¤§åŸå‰‡ã¨ã®ãƒãƒ©ãƒ³ã‚¹

**ä¿®æ­£æ¡ˆ1ã‚’æ¨å¥¨ã™ã‚‹ç†ç”±**:
- ãƒãƒ£ãƒƒãƒˆAPIã¯ç‰¹æ®Šãªå‡¦ç†æ™‚é–“ãŒå¿…è¦ãªãŸã‚ã€ç‰¹æ®Šãƒ¦ãƒ‹ãƒ¼ã‚¯ãªè¨­å®šãŒé©åˆ‡
- ä»–ã®APIã¸ã®å½±éŸ¿ã‚’æœ€å°åŒ–ã™ã‚‹ã“ã¨ã§ã€å…¨ä½“ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã‚’ç¶­æŒ
- æ˜ç¢ºãªæ„å›³ã‚’ç¤ºã™ã“ã¨ã§ã€å°†æ¥ã®ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãŒå®¹æ˜“

---

## 7. å®Ÿè£…è¨ˆç”»

### 7.1 å®Ÿè£…ã‚¹ãƒ†ãƒƒãƒ—

1. **ã‚¹ãƒ†ãƒƒãƒ—1: ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆï¼ˆ5åˆ†ï¼‰**
   - `frontend/src/api/chat.ts`ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’ä½œæˆ

2. **ã‚¹ãƒ†ãƒƒãƒ—2: ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®šã®è¿½åŠ ï¼ˆ10åˆ†ï¼‰**
   - `sendMessage`ãƒ¡ã‚½ãƒƒãƒ‰ã«`timeout: 60000`ã‚’è¿½åŠ 
   - `getHistory`ãƒ¡ã‚½ãƒƒãƒ‰ã«`timeout: 30000`ã‚’è¿½åŠ 

3. **ã‚¹ãƒ†ãƒƒãƒ—3: æ§‹æ–‡ãƒã‚§ãƒƒã‚¯ï¼ˆ5åˆ†ï¼‰**
   - TypeScriptã®æ§‹æ–‡ãƒã‚§ãƒƒã‚¯
   - ãƒªãƒ³ã‚¿ãƒ¼ã‚¨ãƒ©ãƒ¼ã®ç¢ºèª

4. **ã‚¹ãƒ†ãƒƒãƒ—4: ãƒ–ãƒ©ã‚¦ã‚¶ãƒ†ã‚¹ãƒˆï¼ˆ10åˆ†ï¼‰**
   - ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ãƒ–ãƒ©ã‚¦ã‚¶ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
   - ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãªã„ã“ã¨ã‚’ç¢ºèª

5. **ã‚¹ãƒ†ãƒƒãƒ—5: ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆ10åˆ†ï¼‰**
   - ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥
   - ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç’°å¢ƒã«ãƒ‡ãƒ—ãƒ­ã‚¤
   - å†åº¦ãƒ–ãƒ©ã‚¦ã‚¶ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ

**åˆè¨ˆæ™‚é–“**: ç´„40åˆ†

---

## 8. å‚è€ƒæƒ…å ±

### 8.1 é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«

- `frontend/src/api/axios.ts`: Axiosè¨­å®šï¼ˆã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®šï¼‰
- `frontend/src/api/chat.ts`: ãƒãƒ£ãƒƒãƒˆAPIï¼ˆä¿®æ­£å¯¾è±¡ï¼‰
- `frontend/src/api/axios.ts.bak_20251220_141701`: ä»¥å‰ã®è¨­å®šï¼ˆ30ç§’ï¼‰

### 8.2 ã‚µãƒ¼ãƒãƒ¼ãƒ­ã‚°

```
[POST] yadopera-backend-staging.onrender.com/api/v1/chat
responseTimeMS=11585
INFO: "POST /api/v1/chat HTTP/1.1" 200 OK
```

### 8.3 ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°

```
Error object: {
  "code": "TIMEOUT_ERROR",
  "message": "ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¾ã—ãŸã€‚æ¥ç¶šã‚’ç¢ºèªã—ã¦å†åº¦ãŠè©¦ã—ãã ã•ã„ã€‚"
}
```

---

## 9. æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. â³ ä¿®æ­£æ¡ˆ1ã®å®Ÿè£…ã‚’é–‹å§‹
2. â³ ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’ä½œæˆ
3. â³ ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®šã‚’è¿½åŠ 
4. â³ æ§‹æ–‡ãƒã‚§ãƒƒã‚¯ã¨ãƒ†ã‚¹ãƒˆ
5. â³ ãƒ‡ãƒ—ãƒ­ã‚¤ã¨ãƒ–ãƒ©ã‚¦ã‚¶ãƒ†ã‚¹ãƒˆ

