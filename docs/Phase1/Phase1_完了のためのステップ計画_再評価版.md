# Phase 1完了のためのステップ計画（再評価版）

**作成日**: 2025年12月1日  
**対象**: Phase 1（MVP開発）完了のためのステップ計画  
**目的**: 再評価を反映し、Phase 1を100%完了するための具体的なステップ計画を立案  
**大原則**: 根本解決 > 暫定解決、シンプル構造 > 複雑構造、統一・同一化 > 特殊独自、具体的 > 一般、拙速 < 安全確実

---

## 1. 経緯と再評価結果

### 1.1 再評価の経緯

**2025-12-01に発見された問題**:
- 管理画面・ゲスト画面が「やどぺら 開発環境構築中」という固定メッセージのみを表示
- フロントエンドのルーティングが機能していない
- データベースマイグレーションが実行されていない

**Phase 1完了判定の再評価結果**:
- ❌ **誤判定**: Phase 1引き継ぎ書では「100%完了」とされていたが、実際には動作していない
- **実際の完了率**: 約60-70%
- **深刻度**: 🔴 **CRITICAL（致命的）**

### 1.2 要約定義書・アーキテクチャ設計書との整合性確認

**要約定義書（v0.3.2）のPhase 1完了条件**:
- Week 1: バックエンド基盤構築完了
- Week 2: AI対話エンジン実装完了
- Week 3: フロントエンド実装完了
- Week 4: 統合・テスト、ステージング環境構築・デプロイ

**アーキテクチャ設計書（v0.3）の実装内容**:
- Vue.jsページ遷移図に基づくルーティング実装
- GuestLayout.vue、AdminLayout.vueの実装
- `<router-view />`を使用したレイアウトシステム

**整合性確認結果**:
- ✅ 要約定義書・アーキテクチャ設計書の実装内容は明確
- ❌ 実際の実装が要約定義書・アーキテクチャ設計書に準拠していない
- ❌ バックアップファイル（`App.vue.backup_20251127_223758/App.vue`、`main.ts.backup_20251127_212919`）には正しい実装が存在

---

## 2. 現在の実装状況の完全調査

### 2.1 バックエンド実装状況

| 項目 | 要約定義書の要件 | 実装状況 | 備考 |
|------|----------------|---------|------|
| FastAPI プロジェクト初期化 | ✅ 必須 | ✅ 完了 | |
| PostgreSQL 接続（pgvector拡張） | ✅ 必須 | ✅ 完了 | |
| JWT認証システム | ✅ 必須 | ✅ 完了 | |
| 基本テーブル実装 | ✅ 必須 | ⚠️ マイグレーションファイルは存在するが実行されていない | |
| セッション統合トークンAPI実装 | ✅ 必須 | ✅ 完了（推定） | |
| OpenAI API 統合 | ✅ 必須 | ✅ 完了（推定） | |
| RAG実装 | ✅ 必須 | ✅ 完了（推定） | |
| 信頼度スコア改善版実装 | ✅ 必須 | ✅ 完了（推定） | |
| 安全カテゴリ強制エスカレーション実装 | ✅ 必須 | ✅ 完了（推定） | |
| 夜間対応キュー実装 | ✅ 必須 | ✅ 完了（推定） | |
| フォールバック文言実装 | ✅ 必須 | ✅ 完了（推定） | |
| ゲストフィードバックAPI | ✅ 必須 | ✅ 完了 | |
| ダッシュボードAPI | ✅ 必須 | ✅ 完了 | |
| FAQ管理API | ✅ 必須 | ✅ 完了 | |
| FAQ自動学習API | ✅ 必須 | ✅ 完了 | |
| 夜間対応キューAPI | ✅ 必須 | ✅ 完了 | |
| QRコード生成API | ✅ 必須 | ✅ 完了 | |

**バックエンド完了率**: **約95%**（データベースマイグレーション実行が必要）

### 2.2 フロントエンド実装状況

| 項目 | 要約定義書の要件 | アーキテクチャ設計書の要件 | 実装状況 | 備考 |
|------|----------------|------------------------|---------|------|
| Vue.js プロジェクト初期化 | ✅ 必須 | ✅ 必須 | ✅ 完了 | |
| ルーティング設定 | ✅ 必須 | ✅ 必須 | ⚠️ ルーターは作成されているが、`main.ts`に登録されていない | **CRITICAL** |
| App.vueの実装 | ✅ 必須 | `<router-view />`を使用 | ❌ 固定メッセージのみ | **CRITICAL** |
| GuestLayout.vue | ✅ 必須 | ✅ 必須 | ✅ 完了 | |
| AdminLayout.vue | ✅ 必須 | ✅ 必須 | ✅ 完了 | |
| ゲスト側UI（PWA、ダークモード） | ✅ 必須 | ✅ 必須 | ✅ 完了（推定） | |
| ゲストフィードバックUI（👍👎） | ✅ 必須 | ✅ 必須 | ✅ 完了（推定） | |
| セッション統合トークン表示・入力UI | ✅ 必須 | ✅ 必須 | ✅ 完了（推定） | |
| 管理画面（ダッシュボード） | ✅ 必須 | ✅ 必須 | ✅ 完了（推定） | |
| FAQ自動学習UI（ワンクリック追加） | ✅ 必須 | ✅ 必須 | ✅ 完了（推定） | |
| 夜間対応キューUI | ✅ 必須 | ✅ 必須 | ✅ 完了（推定） | |

**フロントエンド完了率**: **約70%**（ルーティングが機能していない）

### 2.3 データベース実装状況

| 項目 | 要約定義書の要件 | 実装状況 | 備考 |
|------|----------------|---------|------|
| マイグレーションファイル作成 | ✅ 必須 | ✅ 完了 | 3ファイル存在（001, 002, 003） |
| マイグレーション実行 | ✅ 必須 | ❌ 未実行 | **CRITICAL** |
| テーブル作成 | ✅ 必須 | ❌ 未作成 | マイグレーション未実行のため |

**データベース完了率**: **約50%**（マイグレーション実行が必要）

### 2.4 テスト実装状況

| 項目 | 要約定義書の要件 | 実装状況 | 備考 |
|------|----------------|---------|------|
| テストコード作成 | ✅ 必須 | ✅ 完了 | |
| テスト実行・パス確認 | ✅ 必須 | ⚠️ 一部完了 | 20テストがパス（68.9%）、9テストが失敗 |

**テスト完了率**: **約70%**（残存テストの修正が必要）

### 2.5 ステージング環境実装状況

| 項目 | 要約定義書の要件 | 実装状況 | 備考 |
|------|----------------|---------|------|
| `develop`ブランチ作成 | ✅ 必須 | ✅ 完了 | |
| Railway PostgreSQL作成 | ✅ 必須 | ✅ 完了 | |
| Railway pgvector拡張有効化 | ✅ 必須 | ✅ 完了 | |
| Railway Redis作成 | ✅ 必須 | ✅ 完了 | |
| Render.com Web Service作成 | ✅ 必須 | ✅ 完了 | |
| Render.com 環境変数設定 | ✅ 必須 | ✅ 完了 | |
| Render.com デプロイ成功 | ✅ 必須 | ✅ 完了 | |
| ステージング環境動作確認 | ✅ 必須 | ⚠️ バックエンドのみ確認済み | フロントエンドは未デプロイ |

**ステージング環境完了率**: **約90%**（フロントエンドデプロイが必要）

---

## 3. 抜け落ちの完全調査

### 3.1 要約定義書との整合性確認

**要約定義書（v0.3.2）のPhase 1 Week 3要件**:
- ✅ Vue.js プロジェクト初期化
- ✅ ゲスト側UI（PWA、ダークモード）
- ✅ ゲストフィードバックUI（👍👎）
- ✅ セッション統合トークン表示・入力UI
- ✅ 管理画面（ダッシュボード）
- ✅ FAQ自動学習UI（ワンクリック追加）
- ✅ 夜間対応キューUI

**確認結果**: すべての要件が実装されている（推定）が、ルーティングが機能していないため動作確認ができない

### 3.2 アーキテクチャ設計書との整合性確認

**アーキテクチャ設計書（v0.3）のVue.jsページ遷移図要件**:
- ✅ ゲスト側フロー: `/f/:facility_slug` → LanguageSelect → Welcome → Chat
- ✅ 管理側フロー: `/admin/login` → Dashboard → 各種管理画面
- ✅ GuestLayout.vue、AdminLayout.vueの実装
- ✅ `<router-view />`を使用したレイアウトシステム

**確認結果**: 
- ✅ ルーター定義は正しく実装されている（`router/index.ts`、`router/guest.ts`、`router/admin.ts`）
- ✅ レイアウトファイルは存在する（`layouts/GuestLayout.vue`、`layouts/AdminLayout.vue`）
- ❌ `App.vue`が固定メッセージのみを表示している（`<router-view />`が使用されていない）
- ❌ `main.ts`にルーターが登録されていない

### 3.3 抜け落ち項目の特定

**発見された抜け落ち項目**:

1. **`App.vue`の実装が不完全**
   - 要約定義書・アーキテクチャ設計書に準拠していない
   - バックアップファイル（`App.vue.backup_20251127_223758/App.vue`）には正しい実装が存在

2. **`main.ts`にルーターが登録されていない**
   - バックアップファイル（`main.ts.backup_20251127_212919`）には正しい実装が存在
   - `app.use(router)`が呼ばれていない

3. **データベースマイグレーションが実行されていない**
   - マイグレーションファイルは存在するが、実行されていない
   - ローカル環境のデータベースにテーブルが存在しない

4. **テストユーザー・テストデータが存在しない**
   - データベースにテーブルが存在しないため、テストユーザーを作成できない
   - 動作確認ができない

5. **フロントエンドのステージング環境デプロイが未完了**
   - バックエンドのみデプロイ済み
   - フロントエンドは未デプロイ

---

## 4. Phase 1完了のためのステップ計画

### ステップ1: フロントエンドのルーティング修正（CRITICAL）

**目的**: フロントエンドのルーティングを機能させる（大原則: 根本解決 > 暫定解決）

**所要時間**: 30分

**実施内容**:

#### 1-1. `App.vue`の修正

**修正内容**:
1. バックアップファイル（`App.vue.backup_20251127_223758/App.vue`）を参照
2. 現在の`App.vue`を正しい実装に置き換える

**修正後の`App.vue`**:
```vue
<template>
  <component :is="layoutComponent">
    <router-view />
  </component>
</template>

<script setup lang="ts">
import { computed } from 'vue'
import { useRoute } from 'vue-router'
import GuestLayout from '@/layouts/GuestLayout.vue'
import AdminLayout from '@/layouts/AdminLayout.vue'

const route = useRoute()

const layoutComponent = computed(() => {
  const layout = route.meta.layout as string | undefined
  
  if (layout === 'guest') {
    return GuestLayout
  }
  
  if (layout === 'admin') {
    return AdminLayout
  }
  
  // デフォルト（レイアウトなし）
  return 'div'
})
</script>

<style>
/* Global styles */
</style>
```

**確認項目**:
- [ ] `App.vue`が正しく修正されている
- [ ] `<router-view />`が使用されている
- [ ] レイアウトコンポーネントが正しくインポートされている

#### 1-2. `main.ts`の修正

**修正内容**:
1. バックアップファイル（`main.ts.backup_20251127_212919`）を参照
2. 現在の`main.ts`を正しい実装に置き換える

**修正後の`main.ts`**:
```typescript
import { createApp } from 'vue'
import { createPinia } from 'pinia'
import router from './router'
import App from './App.vue'
import './style.css'
import { useThemeStore } from './stores/theme'
import { useAuthStore } from './stores/auth'

const app = createApp(App)
const pinia = createPinia()

app.use(pinia)
app.use(router)

// 初期化処理
const themeStore = useThemeStore()
themeStore.initTheme()

const authStore = useAuthStore()
authStore.initAuth()

app.mount('#app')
```

**確認項目**:
- [ ] `router`が正しくインポートされている
- [ ] `app.use(router)`が呼ばれている
- [ ] テーマストア・認証ストアの初期化が行われている

**完了条件**:
- ✅ `App.vue`が正しく修正されている
- ✅ `main.ts`が正しく修正されている
- ✅ フロントエンドが正常に起動する
- ✅ ルーティングが正常に動作する（管理画面・ゲスト画面が表示される）

**成果物**:
- 修正後の`App.vue`
- 修正後の`main.ts`

---

### ステップ2: データベースマイグレーション実行（CRITICAL）

**目的**: データベースにテーブルを作成する（大原則: 根本解決 > 暫定解決）

**所要時間**: 10分

**実施内容**:

#### 2-1. ローカル環境でのマイグレーション実行

**手順**:
1. バックエンドコンテナに接続
2. Alembicマイグレーションを実行

**実行コマンド**:
```bash
cd /Users/kurinobu/projects/yadopera
docker-compose exec backend alembic upgrade head
```

**確認項目**:
- [ ] マイグレーションが正常に実行される
- [ ] エラーが発生しない
- [ ] すべてのテーブルが作成される

#### 2-2. データベーステーブルの確認

**確認コマンド**:
```bash
docker-compose exec postgres psql -U yadopera_user -d yadopera -c "\dt"
```

**確認項目**:
- [ ] `facilities`テーブルが存在する
- [ ] `users`テーブルが存在する
- [ ] その他の必要なテーブルがすべて存在する

**完了条件**:
- ✅ マイグレーションが正常に実行される
- ✅ すべてのテーブルが作成される
- ✅ データベースにテーブルが存在することを確認

**成果物**:
- マイグレーション実行ログ
- データベーステーブル一覧

---

### ステップ3: テストユーザー・テストデータの作成（HIGH）

**目的**: 動作確認のためのテストユーザー・テストデータを作成する（大原則: 具体的 > 一般）

**所要時間**: 20分

**実施内容**:

#### 3-1. テスト施設の作成

**手順**:
1. データベースに直接SQLを実行してテスト施設を作成
2. または、バックエンドAPIを使用してテスト施設を作成

**テスト施設情報**:
- 施設名: `Test Facility`
- slug: `test-facility`
- メールアドレス: `test@example.com`
- その他の必須項目を設定

**確認項目**:
- [ ] テスト施設が作成される
- [ ] `facilities`テーブルにレコードが存在する

#### 3-2. テストユーザーの作成

**手順**:
1. データベースに直接SQLを実行してテストユーザーを作成
2. パスワードハッシュを生成（bcrypt）

**テストユーザー情報**:
- メールアドレス: `test@example.com`
- パスワード: `testpassword123`
- 施設ID: テスト施設のID
- ロール: `staff`

**確認項目**:
- [ ] テストユーザーが作成される
- [ ] `users`テーブルにレコードが存在する
- [ ] パスワードハッシュが正しく生成されている

**完了条件**:
- ✅ テスト施設が作成される
- ✅ テストユーザーが作成される
- ✅ ログインが正常に動作することを確認

**成果物**:
- テスト施設・テストユーザーの作成スクリプトまたはSQL
- テストユーザー情報（メールアドレス、パスワード）

---

### ステップ4: ローカル環境での動作確認（HIGH）

**目的**: 修正後のシステムが正常に動作することを確認する（大原則: 拙速 < 安全確実）

**所要時間**: 1時間

**実施内容**:

#### 4-1. 管理画面の動作確認

**確認項目**:
- [ ] 管理画面ログインURL（`http://localhost:5173/admin/login`）にアクセスできる
- [ ] ログイン画面が正常に表示される
- [ ] テストユーザーでログインできる
- [ ] ダッシュボードが正常に表示される
- [ ] 各管理画面（FAQ管理、夜間対応キュー、QRコード生成等）が正常に表示される

#### 4-2. ゲスト画面の動作確認

**確認項目**:
- [ ] ゲスト画面URL（`http://localhost:5173/f/test-facility?location=entrance`）にアクセスできる
- [ ] 言語選択画面が正常に表示される
- [ ] ウェルカム画面が正常に表示される
- [ ] チャット画面が正常に表示される
- [ ] AI対話が正常に動作する（テスト質問を送信）

**完了条件**:
- ✅ 管理画面が正常に動作する
- ✅ ゲスト画面が正常に動作する
- ✅ すべての確認項目が完了する

**成果物**:
- 動作確認レポート
- スクリーンショット

---

### ステップ5: 残存テストの修正（MEDIUM）

**目的**: 失敗しているテストを修正する（大原則: 根本解決 > 暫定解決）

**所要時間**: 2時間

**実施内容**:

#### 5-1. 失敗しているテストの確認

**手順**:
1. テストを実行
2. 失敗しているテストを特定
3. エラーメッセージを確認

**実行コマンド**:
```bash
cd backend
pytest tests/ -v
```

#### 5-2. テストの修正

**手順**:
1. エラーの根本原因を特定
2. テストを修正
3. 再実行して確認

**完了条件**:
- ✅ すべてのテストがパスする
- ✅ テストカバレッジが適切である

**成果物**:
- 修正後のテストコード
- テスト実行結果

---

### ステップ6: ステージング環境のフロントエンドデプロイ（HIGH）

**目的**: ステージング環境にフロントエンドをデプロイする（大原則: 統一・同一化 > 特殊独自）

**所要時間**: 1時間

**実施内容**:

#### 6-1. Render.com Static Siteの作成

**手順**:
1. Render.comダッシュボードで「New +」→「Static Site」を選択
2. GitHubリポジトリを接続
3. 以下の設定を行う:
   - **Name**: `yadopera-frontend-staging`
   - **Branch**: `develop`
   - **Root Directory**: `frontend`
   - **Build Command**: `npm run build`
   - **Publish Directory**: `dist`

#### 6-2. 環境変数設定

**設定内容**:
```bash
VITE_API_BASE_URL=https://yadopera-backend-staging.onrender.com
VITE_ENVIRONMENT=staging
```

#### 6-3. バックエンドのCORS設定を更新

**手順**:
1. Render.comのWeb Serviceダッシュボードで「Environment」タブを開く
2. `CORS_ORIGINS`環境変数を更新
3. フロントエンドのURLを追加（例: `https://yadopera-frontend-staging.onrender.com`）

#### 6-4. デプロイ確認

**確認項目**:
- [ ] フロントエンドが正常にデプロイされる
- [ ] 管理画面・ゲスト画面が正常に表示される
- [ ] APIとの接続が正常に動作する

**完了条件**:
- ✅ フロントエンドが正常にデプロイされる
- ✅ ステージング環境で管理画面・ゲスト画面が正常に動作する

**成果物**:
- ステージング環境のフロントエンドURL
- デプロイ確認レポート

---

### ステップ7: ステージング環境での動作確認（HIGH）

**目的**: ステージング環境でシステムが正常に動作することを確認する（大原則: 拙速 < 安全確実）

**所要時間**: 1時間

**実施内容**:

#### 7-1. ステージング環境の管理画面の動作確認

**確認項目**:
- [ ] 管理画面ログインURLにアクセスできる
- [ ] ログイン画面が正常に表示される
- [ ] ログインが正常に動作する
- [ ] ダッシュボードが正常に表示される

#### 7-2. ステージング環境のゲスト画面の動作確認

**確認項目**:
- [ ] ゲスト画面URLにアクセスできる
- [ ] 言語選択画面が正常に表示される
- [ ] ウェルカム画面が正常に表示される
- [ ] チャット画面が正常に表示される

**完了条件**:
- ✅ ステージング環境で管理画面が正常に動作する
- ✅ ステージング環境でゲスト画面が正常に動作する

**成果物**:
- ステージング環境動作確認レポート
- スクリーンショット

---

## 5. Phase 1完了判定基準

### 5.1 必須完了条件

Phase 1が100%完了するためには、以下がすべて完了している必要があります：

1. ✅ **Week 1-3の完了**
   - Week 1: バックエンド基盤構築完了
   - Week 2: AI対話エンジン実装完了
   - Week 3: フロントエンド実装完了

2. ✅ **Week 4のAPI実装完了**
   - ゲストフィードバックAPI
   - ダッシュボードAPI
   - FAQ管理API
   - FAQ自動学習API
   - 夜間対応キューAPI
   - QRコード生成API

3. ✅ **Week 4のテストコード作成完了**
   - Week 2のテストコード作成
   - 統合テスト・E2Eテスト実装

4. ✅ **Week 4の最適化・エラーハンドリング完了**
   - レスポンス速度最適化
   - エラーハンドリング強化

5. ✅ **フロントエンドのルーティング修正完了**（新規追加）
   - `App.vue`が正しく修正されている
   - `main.ts`にルーターが登録されている
   - 管理画面・ゲスト画面が正常に表示される

6. ✅ **データベースマイグレーション実行完了**（新規追加）
   - マイグレーションが正常に実行される
   - すべてのテーブルが作成される

7. ✅ **テストユーザー・テストデータ作成完了**（新規追加）
   - テスト施設が作成される
   - テストユーザーが作成される
   - ログインが正常に動作する

8. ✅ **ローカル環境での動作確認完了**（新規追加）
   - 管理画面が正常に動作する
   - ゲスト画面が正常に動作する

9. ✅ **残存テストの修正完了**（新規追加）
   - すべてのテストがパスする

10. ✅ **ステージング環境構築・デプロイ完了**
    - Railway PostgreSQL作成完了
    - Railway pgvector拡張有効化完了
    - Railway Redis作成完了
    - Render.com Web Service作成完了
    - Render.com 環境変数設定完了
    - Render.com デプロイ成功
    - **フロントエンドのステージング環境デプロイ完了**（新規追加）
    - ステージング環境動作確認完了

### 5.2 完了判定

**Phase 1完了判定**:
- 上記10つの必須完了条件がすべて満たされた場合、Phase 1は完了と判定される
- 完了後、Phase 2（PoC準備）に進む

---

## 6. 実行順序と工数見積もり

### 6.1 推奨実行順序

**最優先（CRITICAL）**:
1. **ステップ1: フロントエンドのルーティング修正**（30分）
2. **ステップ2: データベースマイグレーション実行**（10分）
3. **ステップ3: テストユーザー・テストデータの作成**（20分）
4. **ステップ4: ローカル環境での動作確認**（1時間）

**高優先度（HIGH）**:
5. **ステップ6: ステージング環境のフロントエンドデプロイ**（1時間）
6. **ステップ7: ステージング環境での動作確認**（1時間）

**中優先度（MEDIUM）**:
7. **ステップ5: 残存テストの修正**（2時間）

**合計工数**: 約6時間

### 6.2 並行実施可能な項目

- ステップ5（残存テストの修正）は、ステップ4完了後、他のステップと並行して実施可能

---

## 7. リスクと対策

### 7.1 想定されるリスク

#### リスク1: フロントエンドのルーティング修正で問題が発生する

**内容**: `App.vue`や`main.ts`の修正で予期しない問題が発生する

**対策**:
- バックアップファイルを参照して正確に修正する
- 修正後、すぐに動作確認を行う
- 問題が発生した場合は、バックアップファイルから復元する

#### リスク2: データベースマイグレーションでエラーが発生する

**内容**: マイグレーション実行時にエラーが発生する

**対策**:
- マイグレーションファイルを確認する
- エラーメッセージを確認して根本原因を特定する
- 必要に応じて、マイグレーションファイルを修正する

#### リスク3: テストユーザーの作成で問題が発生する

**内容**: テストユーザーの作成に失敗する

**対策**:
- パスワードハッシュの生成方法を確認する
- データベースの制約を確認する
- 必要に応じて、SQLを直接実行する

---

## 8. 成果物一覧

### 8.1 修正ファイル

- `frontend/src/App.vue`（修正後）
- `frontend/src/main.ts`（修正後）

### 8.2 ドキュメント

- `docs/Phase1/Phase1_完了のためのステップ計画_再評価版.md`（本ドキュメント）
- `docs/Phase1/Phase1_ローカル環境動作確認レポート.md`（新規作成）
- `docs/Phase1/Phase1_ステージング環境動作確認レポート.md`（新規作成）

### 8.3 その他

- テストユーザー情報（メールアドレス、パスワード）
- マイグレーション実行ログ
- テスト実行結果

---

## 9. 次のフェーズ（Phase 2）への準備

### 9.1 Phase 2の概要

**Phase 2: PoC準備（2週間）**

**主なタスク**:
- 管理画面・ゲスト画面の動作確認（最優先）
- やどびとユーザーへのメールDM作成・送信
- オンライン説明会準備・実施
- PoC施設選定
- 初期FAQ作成支援
- 利用マニュアル作成
- 宿泊事業者向けAIヘルプチャット実装
- 専用Slackチャンネル作成

### 9.2 Phase 1完了後の推奨アクション

1. **Phase 2開始準備**
   - Phase 2ステップ計画の確認
   - 管理画面・ゲスト画面の動作確認準備

2. **ドキュメント更新**
   - Phase 1引き継ぎ書の更新
   - 動作確認レポートの作成

---

## 10. まとめ

### 10.1 Phase 1完了のための要点

**目的**: Phase 1を100%完了する

**期間**: 約6時間（最優先項目のみ）

**主要タスク**:
1. フロントエンドのルーティング修正（CRITICAL）
2. データベースマイグレーション実行（CRITICAL）
3. テストユーザー・テストデータの作成（HIGH）
4. ローカル環境での動作確認（HIGH）
5. ステージング環境のフロントエンドデプロイ（HIGH）
6. ステージング環境での動作確認（HIGH）
7. 残存テストの修正（MEDIUM）

**成功基準**:
- 管理画面・ゲスト画面が正常に動作する
- すべてのテストがパスする
- ステージング環境でシステムが正常に動作する

### 10.2 大原則の遵守

**根本解決 > 暫定解決**:
- フロントエンドのルーティングを根本的に修正する
- データベースマイグレーションを実行する

**シンプル構造 > 複雑構造**:
- バックアップファイルを参照してシンプルに修正する

**統一・同一化 > 特殊独自**:
- 要約定義書・アーキテクチャ設計書に準拠した実装にする

**具体的 > 一般**:
- 具体的な修正内容、確認項目、完了条件を明確にする

**拙速 < 安全確実**:
- 十分な動作確認を行い、安全に進める

---

**Document Version**: v1.0  
**Author**: Auto (AI Assistant)  
**Last Updated**: 2025-12-01  
**Status**: Phase 1完了のためのステップ計画立案完了


